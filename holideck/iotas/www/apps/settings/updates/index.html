<!DOCTYPE html>
<html>
<head>
	
	<title>Holiday &raquo; Updates</title>

</head>

<body>
	
	<div data-role="page" id="updates" data-add-back-btn="true">
		
		<script src="updates.js"></script>
	
		<script>
			var updates_app = null;

			// Start the App
			function updates_start_app() {
				console.log("updates_start_app")
				updates_app = theApp = new updates(); // Instance an App
				updates_app.appStart(); // Start the App
			}
			
			// Stop the App
			function updates_stop_app() {
				console.log("updates_stop_app");
				updates_app.appQuit();
				$( document ).undelegate("#updates", "pageinit", updates_start_app);
				$( document ).undelegate("#updates", "pagebeforehide", updates_stop_app );
			}
	
			console.log("Location #updates");
			
			$( document ).delegate("#updates", "pageinit", updates_start_app);
			$( document ).delegate("#updates", "pagebeforehide", updates_stop_app);

			// Must add this little bit of stuff to every app so it correctly clears itself from the cache
			$( '#updates' ).on("pagehide", function(event, ui) {
				console.log('updates.remove');
				updates_app = null;
				$('#updates').remove();			// Dump the page from memory
			});
	
		</script>

		
		<header data-role="header" data-position="fixed">
			
			<a href="#apps" class="ui-icon-nodisc ui-icon-alt" data-role="button" data-icon="grid" data-iconpos="notext" data-theme="c" data-inline="true" data-rel="back">Apps</a>
			
			<h1>Updates</h1>
			
		</header>
		
		<section data-role="content">

			<span id="updatetext"></span>
			<p/>
			<form>
				<input type="button" value="Perform update" id="updatebutton"/>
			</form>			

		</section>
		
	</div>
	<!-- /updates -->
		
</body>
</html>